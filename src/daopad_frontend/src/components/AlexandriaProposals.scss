// AlexandriaProposals Component Styles
// Professional DAO interface design without emojis

@use 'sass:color';

// Import color variables from main theme
$paper-white: #FAFAF9;
$ink-black: #000000;
$accent-blue: #1E40AF;
$document-gray: #F5F5F4;
$border-gray: #E5E5E4;
$text-secondary: #525252;

// Extended color palette for status states
$success-green: #10b981;
$warning-amber: #f59e0b;
$error-red: #ef4444;
$info-blue: #3b82f6;

// Professional color scheme
$dao-primary: #1a1a2e;
$dao-secondary: #16213e;
$dao-accent: #0f3460;
$dao-highlight: #533483;
$dao-success: #059669;
$dao-warning: #d97706;
$dao-error: #dc2626;

.alexandria-proposals {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 1rem;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;

  // Main header
  .proposals-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 2px solid $dao-primary;

    h2 {
      font-family: Georgia, 'Times New Roman', serif;
      font-size: 2rem;
      margin: 0;
      color: $dao-primary;
      font-weight: 400;
      letter-spacing: -0.5px;
    }
  }

  // Authentication Banner Styles
  .auth-banner {
    background: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
    border: 1px solid #cbd5e1;
    border-radius: 12px;
    padding: 3rem 2rem;
    text-align: center;
    margin: 2rem 0;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);

    .auth-icon {
      width: 60px;
      height: 60px;
      margin: 0 auto 1.5rem;
      background: $dao-primary;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;

      &::before {
        content: '';
        position: absolute;
        width: 24px;
        height: 24px;
        background: white;
        mask-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z' /></svg>");
        mask-size: contain;
        mask-repeat: no-repeat;
        mask-position: center;
      }
    }

    h3 {
      font-size: 1.5rem;
      margin: 0 0 1rem;
      color: $dao-primary;
      font-weight: 600;
      letter-spacing: -0.25px;
    }

    p {
      color: $text-secondary;
      font-size: 1rem;
      line-height: 1.6;
      max-width: 600px;
      margin: 0 auto;
    }
  }

  // Registration Banner Styles
  .registration-banner {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    border: 2px solid #f59e0b;
    border-radius: 16px;
    padding: 2rem;
    margin: 2rem 0;
    box-shadow: 0 10px 25px rgba(245, 158, 11, 0.1);

    .registration-header {
      text-align: center;
      margin-bottom: 2rem;

      .registration-icon {
        width: 70px;
        height: 70px;
        margin: 0 auto 1.5rem;
        background: linear-gradient(135deg, $warning-amber, color.adjust($warning-amber, $lightness: -10%));
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);

        &::before {
          content: '';
          width: 32px;
          height: 32px;
          background: white;
          mask-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z' /></svg>");
          mask-size: contain;
          mask-repeat: no-repeat;
          mask-position: center;
        }
      }

      h3 {
        font-size: 1.75rem;
        margin: 0 0 0.5rem;
        color: $dao-primary;
        font-weight: 700;
      }

      .registration-subtitle {
        color: $text-secondary;
        font-size: 1rem;
        line-height: 1.5;
      }
    }

    .stake-status-card {
      background: white;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      margin-bottom: 2rem;

      h4 {
        font-size: 1rem;
        color: $dao-primary;
        margin: 0 0 1.5rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        padding-bottom: 0.75rem;
        border-bottom: 2px solid $document-gray;
      }

      .stake-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem 0;
        border-bottom: 1px solid $document-gray;

        &:last-child {
          border-bottom: none;
        }

        .stake-label {
          color: $text-secondary;
          font-size: 0.875rem;
          font-weight: 500;
        }

        .stake-value {
          font-weight: 700;
          font-size: 1rem;
          color: $dao-primary;
          font-family: 'Courier New', monospace;
        }

        .stake-status {
          padding: 0.25rem 0.75rem;
          border-radius: 20px;
          font-size: 0.75rem;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;

          &.status-eligible {
            background: color.adjust($success-green, $lightness: 40%);
            color: color.adjust($success-green, $lightness: -20%);
            border: 1px solid $success-green;
          }

          &.status-insufficient {
            background: color.adjust($error-red, $lightness: 40%);
            color: color.adjust($error-red, $lightness: -20%);
            border: 1px solid $error-red;
          }
        }
      }
    }

    .registration-actions {
      text-align: center;

      .register-success-message {
        color: $dao-success;
        font-weight: 600;
        font-size: 1.125rem;
        margin-bottom: 1rem;
      }

      .btn-register {
        background: linear-gradient(135deg, $dao-success, color.adjust($dao-success, $lightness: -10%));
        color: white;
        border: none;
        padding: 1rem 2.5rem;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
        position: relative;
        overflow: hidden;

        &::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          width: 0;
          height: 0;
          background: rgba(255, 255, 255, 0.2);
          border-radius: 50%;
          transform: translate(-50%, -50%);
          transition: width 0.6s ease, height 0.6s ease;
        }

        &:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(5, 150, 105, 0.4);

          &::before {
            width: 300px;
            height: 300px;
          }
        }

        &:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        &.registering {
          &::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 1rem;
            width: 20px;
            height: 20px;
            margin: -10px 0 0 0;
            border: 3px solid white;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
          }
        }
      }

      .insufficient-stake-info {
        .shortage-message {
          color: $dao-error;
          font-weight: 600;
          font-size: 1rem;
          margin-bottom: 1.5rem;
        }

        .stake-instructions {
          background: white;
          border-radius: 8px;
          padding: 1.5rem;
          text-align: left;
          max-width: 500px;
          margin: 0 auto;

          p {
            font-weight: 600;
            color: $dao-primary;
            margin: 0 0 1rem;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
          }

          ol {
            margin: 0;
            padding-left: 1.5rem;
            color: $text-secondary;

            li {
              margin-bottom: 0.75rem;
              line-height: 1.6;

              a {
                color: $accent-blue;
                text-decoration: none;
                font-weight: 600;
                border-bottom: 1px solid transparent;
                transition: border-color 0.2s ease;

                &:hover {
                  border-bottom-color: $accent-blue;
                }
              }
            }
          }
        }
      }
    }
  }

  // Success Banner Styles
  .member-status-banner {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    border: 2px solid $success-green;
    border-radius: 12px;
    padding: 1rem 1.5rem;
    margin: 1.5rem 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.1);

    .status-content {
      display: flex;
      align-items: center;
      gap: 1rem;

      .status-icon {
        width: 40px;
        height: 40px;
        background: $success-green;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;

        &::before {
          content: '';
          width: 20px;
          height: 20px;
          background: white;
          mask-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M5 13l4 4L19 7' /></svg>");
          mask-size: contain;
          mask-repeat: no-repeat;
          mask-position: center;
        }
      }

      .status-text {
        strong {
          display: block;
          color: color.adjust($success-green, $lightness: -20%);
          font-size: 1.125rem;
          margin-bottom: 0.25rem;
        }

        span {
          color: $text-secondary;
          font-size: 0.875rem;
        }
      }
    }

    .member-id {
      font-family: 'Courier New', monospace;
      font-size: 0.875rem;
      color: $dao-primary;
      background: white;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      border: 1px solid $border-gray;
    }
  }

  // Loading Spinner
  .loading-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 4rem 2rem;
    text-align: center;

    .spinner-container {
      position: relative;
      width: 50px;
      height: 50px;
      margin-bottom: 1.5rem;

      .spinner {
        width: 100%;
        height: 100%;
        border: 3px solid $document-gray;
        border-top-color: $dao-primary;
        border-radius: 50%;
        animation: spin 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
      }
    }

    .loading-text {
      color: $text-secondary;
      font-size: 1rem;
      font-weight: 500;
    }
  }

  // Error Message Styles
  .error-banner {
    background: linear-gradient(135deg, #fee4e2 0%, #fecaca 100%);
    border: 2px solid $error-red;
    border-radius: 12px;
    padding: 1rem 1.5rem;
    margin: 1.5rem 0;
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.1);

    .error-icon {
      width: 24px;
      height: 24px;
      background: $error-red;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      margin-top: 2px;

      &::before {
        content: '!';
        color: white;
        font-weight: bold;
        font-size: 14px;
      }
    }

    .error-content {
      flex: 1;

      strong {
        color: color.adjust($error-red, $lightness: -20%);
        font-size: 0.875rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      p {
        margin: 0.25rem 0 0;
        color: $text-secondary;
        font-size: 0.875rem;
        line-height: 1.5;
      }
    }
  }

  // Proposals filters
  .proposals-filters {
    background: white;
    border: 1px solid $border-gray;
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;

    .filter-group {
      display: flex;
      align-items: center;
      gap: 0.5rem;

      label {
        font-size: 0.875rem;
        font-weight: 600;
        color: $dao-primary;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      select {
        padding: 0.5rem 1rem;
        border: 1px solid $border-gray;
        border-radius: 6px;
        font-size: 0.875rem;
        font-family: 'Courier New', monospace;
        background: white;
        cursor: pointer;
        transition: all 0.2s ease;

        &:focus {
          outline: none;
          border-color: $dao-primary;
          box-shadow: 0 0 0 3px rgba($dao-primary, 0.1);
        }

        &:hover {
          border-color: $dao-primary;
        }
      }
    }

    .btn-refresh {
      margin-left: auto;
      padding: 0.5rem 1.25rem;
      background: $dao-primary;
      color: white;
      border: 2px solid $dao-primary;
      border-radius: 6px;
      font-size: 0.875rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;

      &::before {
        content: '';
        width: 16px;
        height: 16px;
        background: white;
        mask-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15' /></svg>");
        mask-size: contain;
        mask-repeat: no-repeat;
        mask-position: center;
      }

      &:hover {
        background: white;
        color: $dao-primary;

        &::before {
          background: $dao-primary;
        }
      }
    }
  }

  // No proposals state
  .no-proposals {
    text-align: center;
    padding: 4rem 2rem;
    background: $document-gray;
    border: 2px dashed $border-gray;
    border-radius: 12px;

    .no-proposals-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 1.5rem;
      background: $border-gray;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;

      &::before {
        content: '';
        width: 40px;
        height: 40px;
        background: $text-secondary;
        mask-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z' /></svg>");
        mask-size: contain;
        mask-repeat: no-repeat;
        mask-position: center;
      }
    }

    p {
      &:first-of-type {
        font-size: 1.25rem;
        color: $dao-primary;
        font-weight: 600;
        margin-bottom: 0.5rem;
      }

      &.text-muted {
        color: $text-secondary;
        font-size: 0.875rem;
      }
    }
  }

  // Pagination
  .pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1rem;
    margin: 2rem 0;
    padding: 1.5rem;
    background: white;
    border: 1px solid $border-gray;
    border-radius: 8px;

    button {
      padding: 0.5rem 1.25rem;
      font-size: 0.875rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border: 2px solid $dao-primary;
      background: white;
      color: $dao-primary;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s ease;

      &:hover:not(:disabled) {
        background: $dao-primary;
        color: white;
      }

      &:disabled {
        background: $document-gray;
        border-color: $border-gray;
        color: $text-secondary;
        cursor: not-allowed;
      }
    }

    .page-info {
      font-family: 'Courier New', monospace;
      font-size: 0.875rem;
      color: $dao-primary;
      font-weight: 600;
    }
  }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

// Responsive design
@media (max-width: 768px) {
  .alexandria-proposals {
    padding: 1rem 0.5rem;

    .proposals-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 1rem;

      h2 {
        font-size: 1.5rem;
      }
    }

    .registration-banner {
      padding: 1.5rem 1rem;

      .stake-status-card {
        padding: 1rem;
      }

      .registration-actions {
        .btn-register {
          width: 100%;
          padding: 0.875rem 1.5rem;
        }
      }
    }

    .member-status-banner {
      flex-direction: column;
      gap: 1rem;

      .member-id {
        width: 100%;
        text-align: center;
      }
    }

    .proposals-filters {
      flex-direction: column;
      align-items: stretch;

      .filter-group {
        flex-direction: column;
        align-items: stretch;

        select {
          width: 100%;
        }
      }

      .btn-refresh {
        margin-left: 0;
        width: 100%;
        justify-content: center;
      }
    }
  }
}